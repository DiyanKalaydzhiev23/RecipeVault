@model RecipeVault.ViewModels.RecipeViewModel
@using RecipeVault.Enums

<input type="hidden" asp-for="Id" />

<!-- Recipe Name -->
<div class="mb-3">
    <label asp-for="Name" class="form-label small text-muted"></label>
    <input asp-for="Name" class="form-control" />
    <span asp-validation-for="Name" class="text-danger small"></span>
</div>

<!-- Difficulty -->
<div class="mb-3">
    <label asp-for="Difficulty" class="form-label small text-muted"></label>
    <select asp-for="Difficulty" class="form-select" asp-items="Html.GetEnumSelectList<RecipeDifficultyLevel>()"></select>
    <span asp-validation-for="Difficulty" class="text-danger small"></span>
</div>

<!-- Preparation Time -->
<div class="mb-3">
    <label asp-for="PreparationTime" class="form-label small text-muted"></label>
    <input asp-for="PreparationTime" class="form-control" type="number" />
    <span asp-validation-for="PreparationTime" class="text-danger small"></span>
</div>

<!-- Instructions -->
<div class="mb-3">
    <label asp-for="Instructions" class="form-label small text-muted"></label>
    <textarea asp-for="Instructions" class="form-control"></textarea>
    <span asp-validation-for="Instructions" class="text-danger small"></span>
</div>

<!-- Image Upload -->
<div class="mb-3">
    <label asp-for="ImageFile" class="form-label small text-muted"></label>
    <input asp-for="ImageFile" class="form-control" type="file" />
    <span asp-validation-for="ImageFile" class="text-danger small"></span>
</div>

<!-- Ingredients -->
<div class="mb-3">
    <label class="form-label small text-muted">Ingredients</label>
    <div id="ingredients-wrapper">
        @foreach (var ingredient in Model.IngredientNames)
        {
        <input type="text" name="IngredientNames" class="form-control mb-2" value="@ingredient" placeholder="e.g., 1/2 Garlic" />
        }

        @if (!Model.IngredientNames.Any())
        {
        <input type="text" name="IngredientNames" class="form-control mb-2" placeholder="e.g., 1/2 Garlic" />
        }
    </div>
    <button type="button" class="btn btn-outline-secondary btn-sm" onclick="addIngredient()">+ Add Ingredient</button>
</div>